<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title></title>
</head>

<body>
  <div id="content">
    <table border="1px" id="employeeTable">
      <tr>
        <th>name</th>
        <th>email</th>
        <th>salary</th>
        <th>&nbsp;</th>
      </tr>
      <tr>
        <td>小明</td>
        <td>458609443@qq.com</td>
        <td>1000</td>
        <td><a href="deleteEmp?id=001">delete</a></td>
      </tr>
      <tr>
        <td>小王</td>
        <td>12345678@qq.com</td>
        <td>2000</td>
        <td><a href="deleteEmp?id=002">delete</a></td>
      </tr>
      <tr>
        <td>小红</td>
        <td>87654321@qq.com</td>
        <td>5000</td>
        <td><a href="deleteEmp?id=003">delete</a></td>
      </tr>
      <tr>
        <td>开心</td>
        <td>939881222@qq.com</td>
        <td>5000</td>
        <td><a href="deleteEmp?id=004">delete</a></td>
      </tr>

    </table>
    <h4>添加新员工</h4>
    <table>
      <tr>
        <td class="word">name:</td>
        <td class="inp">
          <input type="text" name="empName" id="empName" />
        </td>
      </tr>
      <tr>
        <td class="word">email:</td>
        <td class="inp">
          <input type="text" name="email" id="email" />
        </td>
      </tr>
      <tr>
        <td class="word">salary:</td>
        <td class="inp">
          <input type="text" name="salary" id="salary" />
        </td>
      </tr>
      <tr>
        <td colspan="2" align="center">
          <button id="addEmpbutton">submit</button>
        </td>
      </tr>
    </table>
  </div>

  <script>
    // 删除tr 的响应函数 
    function delA () {

      var tr = this.parentNode.parentNode;
      // console.log(tr);

      // 获取要删除的员工的名字
      // var name = tr.getElementsByTagName('td')[0].innerHTML
      var name = tr.children[0].innerHTML

      /* 
        confirm () 弹出一个带有确认和取消按钮的提示框
             需要 一个字符串作为参数，该字符串 会作为提示文字显示出来
             如果用户点击 确认 则返回ture ， 点击 取消 则返回false
      */
      var flag = confirm('确认删除' + name + '吗？')

      // 判断是否删除 tr 

      if (flag) {
        tr.parentNode.removeChild(tr)
      }


      return false

    }


    var allA = document.getElementsByTagName('a');
    //为超链接绑定单击响应函数
    for (var i = 0; i < allA.length; i++) {
      allA[i].onclick = delA
      console.log(allA[i] + '666');
    }

    /* 
        添加员工功能
            -点击按钮后，将 员工信息添加到表格中
    
    */
    var addEmpbutton = document.getElementById('addEmpbutton');
    addEmpbutton.onclick = function () {
      // .*获取用户填写的信息；
      // 1 获取员工名字
      var name = document.getElementById('empName').value

      // console.log(name + '：名字');

      // 2 获取 邮箱
      var email = document.getElementById('email').value


      // 3 获取工资
      var salary = document.getElementById('salary').value

      // console.log(name + email + salary);
      // <tr>
      //   <td>小红</td>
      //   <td>87654321@qq.com</td>
      //   <td>5000</td>
      //   <td><a href="deleteEmp?id=003">delete</a></td>
      // </tr>

      // 将读取到的信息保存到tr中

      //  创建一个tr
      var tr = document.createElement('tr')
      // 创建四个td 元素节点
      var nameTd = document.createElement('td');

      var emailTd = document.createElement('td')

      var salaryTd = document.createElement('td');

      var aTd = document.createElement('td')
      //  创建一个a 元素节点 
      var a = document.createElement('a');




      // 创建文本节点
      var nameText = document.createTextNode(name)
      var emailText = document.createTextNode(email)
      var salaryText = document.createTextNode(salary)
      var deleteText = document.createTextNode('delete')

      // 将文本 添加到td中
      nameTd.appendChild(nameText)
      emailTd.appendChild(emailText)
      salaryTd.appendChild(salaryText)
      // 向a添加文本
      a.appendChild(deleteText)
      // 向a添加href 属性
      a.href = "javascript:;"
      // 将 a 添加到 td
      aTd.appendChild(a)

      // 为新添加的 a再绑定一次单击响应函数
      a.onclick = delA



      // 将td 添加到tr中

      tr.appendChild(nameTd)
      tr.appendChild(emailTd)
      tr.appendChild(salaryTd)
      tr.appendChild(aTd)

      // 获取table
      var employeeTable = document.getElementById('employeeTable')

      // 将 tr 添加到 table中
      employeeTable.appendChild(tr)






    }





  </script>


</body>

</html>